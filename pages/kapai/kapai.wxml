<view>
    <view class="header">{{title}}</view>
    <view class="author">@山药攻略组 | @sevenchrishai</view>
    <view class="fgx"></view>
    <view class="page">
        <view class="guancangbtns">
            <button type="primary" bindtap="toggleGuanc">
                {{collectionFlag?'隐藏':'显示'}}馆藏
            </button>
            <button type="primary" bindtap="toggleKapaiku">
                {{cards?'关闭':'打开'}}卡牌库
            </button>
        </view>
        <block wx:if="{{collectionFlag}}">
            <view class="collection">
                <view class="guancang coll-item">
                    <view>馆藏</view>
                    <block wx:for="{{collection}}" wx:key="index">
                        <view>{{item.name}}</view>
                    </block>
                </view>
                <view class="dengji coll-item">
                    <view class="section__title">等级</view>
                    <block wx:for="{{collection}}" wx:key="index">
                        <view>
                            <picker bindchange="guanCangBindPickerChange" value="{{item.level}}" data-index="{{index}}"
                                    range="{{guanCangLevelArray}}">
                                <view class="picker">
                                    {{item.level}}
                                </view>
                            </picker>
                        </view>
                    </block>
                </view>
            </view>
            <view class="saveBtn">
                <button type="primary" bindtap="saveCollection">保存</button>
            </view>
        </block>
        <block wx:if="{{cards}}">
            <view class="kapaiku m10">
                <radio-group bindchange="allPropChange">
                    <radio class="radio" wx:for-items="{{propObj}}" wx:key="index" value="{{item.id}}" checked="{{item.checked}}">
                        <text>{{item.name}}</text>
                    </radio>
                </radio-group>
                <view class="bodysC">
                    <view>
                        <text class="mr-10">角色</text>
                        <picker bindchange="getAllRole" value="{{allRoleObj.propRoleVal}}"
                                range="{{allPropRoleArr}}" range-key="{{'dataName'}}">
                            <view class="picker">
                                {{allRoleObj.propRoleVal}}
                            </view>
                        </picker>
                    </view>
                    <view>
                        <switch type="checkbox" checked="{{allRoleObj.isFusu}}" bindchange="allRoleFusChange"/>复苏
                    </view>
                    <view>
                        <text class="guanName">({{makeupData[allRoleObj.propRoleKey][13]}})</text>
                    </view>
                </view>
                <view class="bodysC">
                    <view>
                        <text class="mr-10">等级</text>
                        <picker bindchange="allLevelChange" value="{{allRoleObj.roleLevelVal}}" range="{{allLevelArr}}">
                            <view class="picker">
                                {{allRoleObj.roleLevelVal}}
                            </view>
                        </picker>
                    </view>
                    <view>
                        <text class="mr-10">星级</text>
                        <picker bindchange="allStarChange" value="{{allRoleObj.starVal}}" range="{{starArr}}">
                            <view class="picker">
                                {{starArr[allRoleObj.starVal]}}
                            </view>
                        </picker>
                    </view>
                    <view>
                        <text class="mr-10">馆藏</text>
                        <picker bindchange="allGuancChange" value="{{allRoleObj.collectVal}}" range="{{guanCangLevelArray}}">
                            <view class="picker">
                                {{allRoleObj.collectVal}}
                            </view>
                        </picker>
                    </view>
                </view>
                <view class="bodysC">
                    <view>影之召唤</view>
                    <view>{{shadowArr[allRoleObj.shadowVal]}}</view>
                    <view>
                        <text class="mr-10">等级</text>
                        <picker bindchange="allShadowChange" value="{{allRoleObj.shadowLevelVal}}" range="{{allShadowLevelArr}}">
                            <view class="picker">
                                {{allRoleObj.shadowLevelVal}}
                            </view>
                        </picker>
                    </view>
                </view>
                <view class="bodysC">
                    <view>被动</view>
                    <view>
                        <text class="mr-10">{{passiveSkillArr[allRoleObj.passiveSkillVal1]}}</text>
                        <picker bindchange="allSkill1Change" value="{{allRoleObj.passiveSkillLevelVal1}}" range="{{allShadowLevelArr}}">
                            <view class="picker">
                                {{allRoleObj.passiveSkillLevelVal1}}
                            </view>
                        </picker>
                    </view>
                    <view>
                        <text class="mr-10">{{passiveSkillArr[allRoleObj.passiveSkillVal2]}}</text>
                        <picker bindchange="allSkill2Change" value="{{allRoleObj.passiveSkillLevelVal2}}" range="{{allShadowLevelArr}}">
                            <view class="picker">
                                {{allRoleObj.passiveSkillLevelVal2}}
                            </view>
                        </picker>
                    </view>
                    <view>
                        <text class="mr-10">{{passiveSkillArr[allRoleObj.passiveSkillVal3]}}</text>
                        <picker bindchange="allSkill3Change" value="{{allRoleObj.passiveSkillLevelVal3}}" range="{{allShadowLevelArr}}">
                            <view class="picker">
                                {{allRoleObj.passiveSkillLevelVal3}}
                            </view>
                        </picker>
                    </view>
                </view>
                <view class="bodysC">
                    <view>核心印象</view>
                    <view>
                        <picker class="mr-10" bindchange="allCoreImpressionTypeChange" value="{{allRoleObj.coreImpressionTypeVal}}"
                                range="{{coreImpressionTypeObj}}" range-key="{{'name'}}">
                            <view class="picker">
                                {{allRoleObj.coreImpressionTypeValName}}
                            </view>
                        </picker>
                        <picker class="mr-10" bindchange="allCoreImpressionChange" value="{{allRoleObj.coreImpressionVal}}"
                                range="{{coreImpressionObj}}" range-key="{{'name'}}">
                            <view class="picker">
                                {{allRoleObj.coreImpressionValName}}
                            </view>
                        </picker>
                        <picker class="mr-10" bindchange="allCoreImpressionLevelChange" value="{{allRoleObj.coreImpressionLevelVal}}"
                                range="{{coreImpressionLevelObj}}" range-key="{{'name'}}">
                            <view class="picker">
                                {{allRoleObj.coreImpressionLevelValName}}
                            </view>
                        </picker>
                    </view>
                </view>
                <view class="saveBtn">
                    <button type="primary" bindtap="saveCards">保存</button>
                </view>

            </view>
        </block>
    </view>
    <view class="fgx"></view>

</view>